{"ast":null,"code":"var _jsxFileName = \"/Users/abishek/Documents/final_project/E-commerce-site/frontend/src/context/RealTimeContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect, useState } from 'react';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RealTimeContext = /*#__PURE__*/createContext();\nconst socket = io('http://localhost:5001');\nexport const RealTimeProvider = ({\n  children\n}) => {\n  _s();\n  const [stockUpdates, setStockUpdates] = useState({});\n  const [chatMessages, setChatMessages] = useState([]);\n  useEffect(() => {\n    socket.on('connect', () => {\n      console.log('Connected to real-time server');\n    });\n    socket.on('stock_update', data => {\n      setStockUpdates(prev => ({\n        ...prev,\n        [data.product_id]: data.stock\n      }));\n    });\n    socket.on('chat_message', data => {\n      setChatMessages(prev => [...prev, data.message]);\n    });\n    return () => {\n      socket.off('connect');\n      socket.off('stock_update');\n      socket.off('chat_message');\n    };\n  }, []);\n  const sendChatMessage = message => {\n    socket.emit('chat_message', {\n      message\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(RealTimeContext.Provider, {\n    value: {\n      stockUpdates,\n      chatMessages,\n      sendChatMessage\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(RealTimeProvider, \"dUbq19Gjo59qijTnO55DOoUe1lo=\");\n_c = RealTimeProvider;\nvar _c;\n$RefreshReg$(_c, \"RealTimeProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useState","io","jsxDEV","_jsxDEV","RealTimeContext","socket","RealTimeProvider","children","_s","stockUpdates","setStockUpdates","chatMessages","setChatMessages","on","console","log","data","prev","product_id","stock","message","off","sendChatMessage","emit","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/abishek/Documents/final_project/E-commerce-site/frontend/src/context/RealTimeContext.js"],"sourcesContent":["import React, { createContext, useEffect, useState } from 'react';\nimport { io } from 'socket.io-client';\n\nexport const RealTimeContext = createContext();\n\nconst socket = io('http://localhost:5001');\n\nexport const RealTimeProvider = ({ children }) => {\n  const [stockUpdates, setStockUpdates] = useState({});\n  const [chatMessages, setChatMessages] = useState([]);\n\n  useEffect(() => {\n    socket.on('connect', () => {\n      console.log('Connected to real-time server');\n    });\n\n    socket.on('stock_update', (data) => {\n      setStockUpdates((prev) => ({\n        ...prev,\n        [data.product_id]: data.stock,\n      }));\n    });\n\n    socket.on('chat_message', (data) => {\n      setChatMessages((prev) => [...prev, data.message]);\n    });\n\n    return () => {\n      socket.off('connect');\n      socket.off('stock_update');\n      socket.off('chat_message');\n    };\n  }, []);\n\n  const sendChatMessage = (message) => {\n    socket.emit('chat_message', { message });\n  };\n\n  return (\n    <RealTimeContext.Provider value={{ stockUpdates, chatMessages, sendChatMessage }}>\n      {children}\n    </RealTimeContext.Provider>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACjE,SAASC,EAAE,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,OAAO,MAAMC,eAAe,gBAAGN,aAAa,CAAC,CAAC;AAE9C,MAAMO,MAAM,GAAGJ,EAAE,CAAC,uBAAuB,CAAC;AAE1C,OAAO,MAAMK,gBAAgB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAChD,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpD,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACdM,MAAM,CAACQ,EAAE,CAAC,SAAS,EAAE,MAAM;MACzBC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;IAC9C,CAAC,CAAC;IAEFV,MAAM,CAACQ,EAAE,CAAC,cAAc,EAAGG,IAAI,IAAK;MAClCN,eAAe,CAAEO,IAAI,KAAM;QACzB,GAAGA,IAAI;QACP,CAACD,IAAI,CAACE,UAAU,GAAGF,IAAI,CAACG;MAC1B,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;IAEFd,MAAM,CAACQ,EAAE,CAAC,cAAc,EAAGG,IAAI,IAAK;MAClCJ,eAAe,CAAEK,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAED,IAAI,CAACI,OAAO,CAAC,CAAC;IACpD,CAAC,CAAC;IAEF,OAAO,MAAM;MACXf,MAAM,CAACgB,GAAG,CAAC,SAAS,CAAC;MACrBhB,MAAM,CAACgB,GAAG,CAAC,cAAc,CAAC;MAC1BhB,MAAM,CAACgB,GAAG,CAAC,cAAc,CAAC;IAC5B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,eAAe,GAAIF,OAAO,IAAK;IACnCf,MAAM,CAACkB,IAAI,CAAC,cAAc,EAAE;MAAEH;IAAQ,CAAC,CAAC;EAC1C,CAAC;EAED,oBACEjB,OAAA,CAACC,eAAe,CAACoB,QAAQ;IAACC,KAAK,EAAE;MAAEhB,YAAY;MAAEE,YAAY;MAAEW;IAAgB,CAAE;IAAAf,QAAA,EAC9EA;EAAQ;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACe,CAAC;AAE/B,CAAC;AAACrB,EAAA,CApCWF,gBAAgB;AAAAwB,EAAA,GAAhBxB,gBAAgB;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}